```sql
-- 基础咒语练习：

-- 找出所有姓“张”或姓“李”的学生。
SELECT
	* 
FROM
	students 
WHERE
	NAME LIKE '张%' 
	OR NAME LIKE '李%';

-- 检索所有2003年出生的女性学生。
SELECT
	* 
FROM
	students 
WHERE
	gender = 'F' 
	AND birth_date LIKE '2003%';+
	
-- 筛选出成绩在80至90分之间的所有记录。
SELECT
	* 
FROM
	scores 
WHERE
	score BETWEEN 80 
	AND 90;
	
-- 仅显示学生档案中的前5条姓名和邮箱记录。
SELECT NAME
	,
	email 
FROM
	students 
WHERE
	student_id BETWEEN 1 
	AND 5;
	
-- 查询名字中包含“三”字的学生。
SELECT
	* 
FROM
	students 
WHERE
	NAME LIKE '%三%';






-- 复合咒语进阶：

-- 统计每个班级的学生总数，但只显示人数超过2人的班级。
SELECT
	class_id,
	COUNT( student_id ) AS num 
FROM
	students 
GROUP BY
	class_id 
HAVING
	num > 2;
	
-- 计算每位学生的平均分，并按降序排列，列出前三名学霸。
SELECT
	st.student_id,
	st.NAME,
	AVG( sc.score ) AS sum 
FROM
	students AS st
	JOIN scores AS sc ON st.student_id = sc.student_id 
GROUP BY
	st.student_id,
	st.NAME 
ORDER BY
	sum DESC 
	LIMIT 0,
	3;
	
-- 查询教授所讲授的所有课程，以及选修这些课程的学生数量。
SELECT
	co.course_id,
	co.course_name,
	COUNT( sc.student_id ) AS student_count 
FROM
	courses AS co
	JOIN teachers AS te ON co.teacher_id = te.teacher_id
	JOIN scores AS sc ON co.course_id = sc.course_id 
WHERE
	te.title = '教授' 
GROUP BY
	co.course_id,
	co.course_name;
	
-- 计算每门课程的平均分、最高分和最低分。
SELECT
	co.course_id,
	co.course_name,
	AVG( sc.score ),
	MAX( sc.score ),
	MIN( sc.score ) 
FROM
	scores AS sc
	JOIN courses AS co ON sc.course_id = co.course_id 
GROUP BY
	co.course_id,
	co.course_name;
	
-- 找出所有选修了“数据库原理”或“数据结构”，并且成绩不低于85分的优秀学生信息
SELECT
	st.* 
FROM
	students AS st
	JOIN scores AS sc ON st.student_id = sc.student_id
	JOIN courses AS co ON co.course_id = sc.course_id 
WHERE
	( co.course_name = '数据库原理' OR co.course_name = '数据结构' ) 
	AND sc.score >= 85;
```